"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7292],{7292:(S,_,u)=>{u.r(_),u.d(_,{SessionPageModule:()=>d});var h=u(6895),s=u(433),o=u(5035),p=u(4126),a=u(655),m=u(6388),e=u(8256),P=u(1053),y=u(8375);function Z(l,i){if(1&l){const t=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",3)(2,"h4"),e._uU(3," Ajouter une image "),e.qZA(),e.TgZ(4,"ion-item")(5,"ion-buttons",1)(6,"ion-button"),e._UZ(7,"ion-icon",29),e.qZA()(),e.TgZ(8,"input",30),e.NdJ("change",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onFileChange(r))}),e.qZA()(),e._UZ(9,"img",33),e.qZA(),e._UZ(10,"ion-col",34),e.qZA()}if(2&l){const t=e.oxw();e.xp6(9),e.hYB("src","",t.UrlImage,"images/",t.image,"",e.LSH)}}function w(l,i){if(1&l){const t=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",13)(2,"ion-item",14)(3,"ion-label",15),e._uU(4,"Image "),e.qZA(),e.TgZ(5,"ion-input",35),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.image=r)}),e.qZA()()()()}if(2&l){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.image)}}function T(l,i){if(1&l){const t=e.EpF();e.TgZ(0,"ion-item",36),e._UZ(1,"img",7),e.TgZ(2,"ion-button",37),e.NdJ("click",function(r){const f=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.delete(r,f))}),e._UZ(3,"ion-icon",38),e.qZA()()}if(2&l){const t=i.$implicit,n=e.oxw();e.xp6(1),e.hYB("src","",n.UrlImage,"images/",t.url,"",e.LSH)}}class b{constructor(i,t,n,r,g,f,v,O,C){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"route",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:g}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:v}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:O}),Object.defineProperty(this,"LoadingController",{enumerable:!0,configurable:!0,writable:!0,value:C}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"price",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"sessions"}),Object.defineProperty(this,"file",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"gallery",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"idgallery",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"editurl",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{placeholder:"Votre description ici...",tabsize:2,height:200,uploadImagePath:"/api/upload",toolbar:[["misc",["codeview","undo","redo"]],["style",["bold","italic","underline","clear"]],["font",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["fontsize",["fontname","fontsize","color"]],["para",["style","ul","ol","paragraph","height"]]],fontNames:["Helvetica","Arial","Arial Black","Comic Sans MS","Courier New","Times"]}}),Object.defineProperty(this,"editorValue",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"UrlBase",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"UrlImage",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"subtitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"category",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label2",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label4",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label5",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ngOnInit(){this.route.params.subscribe(i=>{this.id=i.id,this.getdata(),this.galleryByPost(),this.UrlImage=this.redditService.getUrlImage()})}getdata(){return(0,a.mG)(this,void 0,void 0,function*(){this.redditService.getByid(this.table,this.id).subscribe(i=>{this.posts=[i],this.title=this.posts[0].title,this.subtitle=this.posts[0].subtitle,this.content=this.posts[0].content,this.url=this.posts[0].url,this.image=this.posts[0].image,this.price=this.posts[0].price,this.view=this.posts[0].view,this.category=this.posts[0].category,this.order=this.posts[0].order,this.label1=this.posts[0].label1,this.label2=this.posts[0].label2,this.label3=this.posts[0].label3,this.label4=this.posts[0].label4,this.label5=this.posts[0].label5})})}galleryByPost(){return(0,a.mG)(this,void 0,void 0,function*(){this.redditService.getByid("gallerybypost",this.id).subscribe(i=>{this.gallery=i.data})})}doSave(){return(0,a.mG)(this,void 0,void 0,function*(){this.url=encodeURI(this.title);var i={id:this.id,title:this.title,content:this.content,price:this.price,url:this.url,image:this.image,view:this.view,order:this.order,label1:this.label1,label2:this.label2,label3:this.label3,label4:this.label4,label5:this.label5};console.log(i),this.redditService.update(this.table,this.id,i).toPromise().then(t=>{setTimeout(()=>{this.router.navigateByUrl("/sessions")},300)})})}change1(i,t){return(0,a.mG)(this,void 0,void 0,function*(){0==i.target.checked?this.label1=1:1==i.target.checked&&(this.label1=0)})}change2(i,t){return(0,a.mG)(this,void 0,void 0,function*(){0==i.target.checked?this.label2=1:1==i.target.checked&&(this.label2=0)})}change3(i,t){return(0,a.mG)(this,void 0,void 0,function*(){0==i.target.checked?this.label3=1:1==i.target.checked&&(this.label3=0)})}change4(i,t){return(0,a.mG)(this,void 0,void 0,function*(){0==i.target.checked?this.label4=1:1==i.target.checked&&(this.label4=0)})}change5(i,t){return(0,a.mG)(this,void 0,void 0,function*(){0==i.target.checked?this.label5=1:1==i.target.checked&&(this.label5=0)})}editurlseo(){return(0,a.mG)(this,void 0,void 0,function*(){this.editurl=!this.editurl})}onFileChange(i){this.file=i.target.files[0],this.submitForm()}submitForm(){return(0,a.mG)(this,void 0,void 0,function*(){let i=new FormData;i.append("image",this.file,this.file.name),i.append("title","Image "),this.redditService.uploadFormData(i).toPromise().then(t=>{this.image=t,setTimeout(()=>{},500)})})}onFileChangeGallery(i){this.file=i.target.files[0],this.submitFormGallery()}submitFormGallery(){return(0,a.mG)(this,void 0,void 0,function*(){let i=new FormData;i.append("image",this.file,this.file.name),i.append("title","Image "),i.append("postid",this.id),this.redditService.uploadGalleryImage(i).toPromise().then(t=>{this.galleryByPost(),setTimeout(()=>{},500)})})}delete(i,t){return(0,a.mG)(this,void 0,void 0,function*(){this.idgallery=t.id,yield(yield this.alertController.create({header:"Supprimer",message:"Voulez-vous vraiment ? ",buttons:[{text:"Annuler",role:"cancel",cssClass:"secondary",handler:r=>{}},{text:"Oui",handler:()=>{this.redditService.delete("gallery",this.idgallery).toPromise().then(r=>{setTimeout(()=>{this.galleryByPost()},400)})}}]})).present()})}doCancel(){return(0,a.mG)(this,void 0,void 0,function*(){setTimeout(()=>{this.router.navigateByUrl("/sessions")},600)})}addFormGallery(){return(0,a.mG)(this,void 0,void 0,function*(){const i=yield m.V1.getPhoto({resultType:m.dk.Base64,quality:1,source:m.oK.Photos});(yield this.LoadingController.create({message:"Enregistrement de l'image",duration:2500})).present(),this.format=i.format,this.image="data:image/png;base64,"+i.base64String})}}Object.defineProperty(b,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return new(i||b)(e.Y36(o.SH),e.Y36(o.Dh),e.Y36(o.Br),e.Y36(p.gz),e.Y36(o.HT),e.Y36(P.I),e.Y36(p.F0),e.Y36(o.yF),e.Y36(o.HT))}}),Object.defineProperty(b,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:b,selectors:[["app-session"]],decls:100,vars:15,consts:[["color","secondary"],["slot","start"],["responsive-sm","",1,"ion-padding"],["sizeLg","8","sizeMd","8","sizeXs","12"],["lines","none"],["sizeLg","6","sizeMd","6","sizeXs","12"],["slot","start",2,"padding","3px","width","200px","height","200px",3,"ngStyle"],[3,"src"],["expand","block","color","secondary",3,"click"],["name","images-outline"],[3,"ngModel","ngModelChange"],["value","0"],["value","1"],["sizeLg","12","sizeMd","12","sizeXs","12"],[1,"roundedInput"],["position","stacked"],["inputmode","text","placeholder","Titre",3,"ngModel","ngModelChange"],["inputmode","text","placeholder","Sous titre",3,"ngModel","ngModelChange"],[2,"display","none"],["inputmode","text","placeholder","1",3,"ngModel","ngModelChange"],["color","success","checked","label1",3,"ngModel","click"],["color","success","checked","label2",3,"ngModel","click"],["color","success","checked","label3",3,"ngModel","click"],["color","success","checked","label4",3,"ngModel","click"],[3,"ngxSummernote","ngModel","ngModelChange"],[4,"ngIf"],["slot","end",1,"item-note"],["color","light","size","medium",3,"click"],["color","secondary","size","medium",3,"click"],["slot","icon-only","name","attach"],["type","file",3,"change"],["style","margin-top: 10px;",4,"ngFor","ngForOf"],["sizeLg","4","sizeMd","4","sizeXs","12",1,"padding"],[2,"width","200px",3,"src"],["sizeLg","4","sizeMd","4","sizeXs","12"],["inputmode","text","placeholder","",3,"ngModel","ngModelChange"],[2,"margin-top","10px"],["ion-button","","outline","","item-end","","small","","color","light",3,"click"],["name","trash-outline"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Session "),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-row")(8,"ion-col",3)(9,"ion-list",4)(10,"ion-row")(11,"ion-col",5),e._uU(12),e._UZ(13,"br"),e.qZA()(),e.TgZ(14,"div",6),e._UZ(15,"img",7),e.qZA(),e.TgZ(16,"ion-row")(17,"ion-col",5)(18,"ion-button",8),e.NdJ("click",function(){return t.addFormGallery()}),e._UZ(19,"ion-icon",9),e._uU(20," Modifier "),e.qZA()(),e._UZ(21,"ion-col",5),e.qZA(),e.TgZ(22,"ion-row")(23,"ion-col",5)(24,"select",10),e.NdJ("ngModelChange",function(r){return t.view=r}),e.TgZ(25,"option",11),e._uU(26," Brouillon "),e.qZA(),e.TgZ(27,"option",12),e._uU(28," Publi\xe9 "),e.qZA()()(),e._UZ(29,"ion-col",5),e.qZA(),e.TgZ(30,"ion-row")(31,"ion-col",13)(32,"ion-item",14)(33,"ion-label",15),e._uU(34,"Titre"),e.qZA(),e.TgZ(35,"ion-input",16),e.NdJ("ngModelChange",function(r){return t.title=r}),e.qZA()()()(),e.TgZ(36,"ion-row")(37,"ion-col",13)(38,"ion-item",14)(39,"ion-label",15),e._uU(40,"Sous titre"),e.qZA(),e.TgZ(41,"ion-input",17),e.NdJ("ngModelChange",function(r){return t.subtitle=r}),e.qZA()()()(),e.TgZ(42,"ion-row",18)(43,"ion-col",13)(44,"ion-item",14)(45,"ion-label",15),e._uU(46,"Ordre"),e.qZA(),e.TgZ(47,"ion-input",19),e.NdJ("ngModelChange",function(r){return t.order=r}),e.qZA()()()(),e.TgZ(48,"ion-row")(49,"ion-col",13)(50,"ion-item",14)(51,"ion-toggle",20),e.NdJ("click",function(r){return t.change1(r,t.label1)}),e.qZA(),e.TgZ(52,"b"),e._uU(53," Activer l'inscription "),e.qZA()()()(),e.TgZ(54,"ion-row")(55,"ion-col",13)(56,"ion-item",14)(57,"ion-toggle",21),e.NdJ("click",function(r){return t.change2(r,t.label2)}),e.qZA(),e.TgZ(58,"b"),e._uU(59," Activer les ateliers "),e.qZA()()()(),e.TgZ(60,"ion-row")(61,"ion-col",13)(62,"ion-item",14)(63,"ion-toggle",22),e.NdJ("click",function(r){return t.change3(r,t.label3)}),e.qZA(),e.TgZ(64,"b"),e._uU(65," Activer le badge "),e.qZA()()()(),e.TgZ(66,"ion-row")(67,"ion-col",13)(68,"ion-item",14)(69,"ion-toggle",23),e.NdJ("click",function(r){return t.change4(r,t.label4)}),e.qZA(),e.TgZ(70,"b"),e._uU(71," Activer le recapitulatif"),e.qZA()()()(),e.TgZ(72,"ion-row")(73,"ion-col",13)(74,"ion-label",15)(75,"b"),e._uU(76,"Contenu"),e.qZA()(),e.TgZ(77,"ion-item",14)(78,"div",24),e.NdJ("ngModelChange",function(r){return t.content=r}),e.qZA()()()(),e.YNc(79,Z,11,2,"ion-row",25),e.YNc(80,w,6,1,"ion-row",25),e.TgZ(81,"ion-item")(82,"div",26)(83,"ion-button",27),e.NdJ("click",function(){return t.doCancel()}),e._uU(84,"Annuler "),e.qZA(),e.TgZ(85,"ion-button",28),e.NdJ("click",function(){return t.doSave()}),e._uU(86,"Enregistrer"),e.qZA()()()(),e.TgZ(87,"ion-list",18)(88,"ion-row")(89,"ion-col",3)(90,"h4"),e._uU(91," Ajouter une image dans la gallerie"),e.qZA(),e.TgZ(92,"ion-item")(93,"ion-buttons",1)(94,"ion-button"),e._UZ(95,"ion-icon",29),e.qZA()(),e.TgZ(96,"input",30),e.NdJ("change",function(r){return t.onFileChangeGallery(r)}),e.qZA()()()(),e.TgZ(97,"ion-row"),e.YNc(98,T,4,2,"ion-item",31),e.qZA()()(),e._UZ(99,"ion-col",32),e.qZA()()),2&i&&(e.xp6(12),e.hij(" Id: ",t.id," / Dimensions image recommand\xe9es 200px X 200px "),e.xp6(3),e.s9C("src",t.image,e.LSH),e.xp6(9),e.Q6J("ngModel",t.view),e.xp6(11),e.Q6J("ngModel",t.title),e.xp6(6),e.Q6J("ngModel",t.subtitle),e.xp6(6),e.Q6J("ngModel",t.order),e.xp6(4),e.Q6J("ngModel",t.label1),e.xp6(6),e.Q6J("ngModel",t.label2),e.xp6(6),e.Q6J("ngModel",t.label3),e.xp6(6),e.Q6J("ngModel",t.label4),e.xp6(9),e.Q6J("ngxSummernote",t.config)("ngModel",t.content),e.xp6(1),e.Q6J("ngIf","page"==t.category),e.xp6(1),e.Q6J("ngIf","page"==t.category),e.xp6(18),e.Q6J("ngForOf",t.gallery))},dependencies:[h.sg,h.O5,h.PC,s.YN,s.Kr,s.EJ,s.JJ,s.On,o.oU,o.YG,o.Sm,o.wI,o.W2,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.q_,o.Nd,o.wd,o.ho,o.sr,o.w,o.j9,o.cs,y.J$],styles:[".divider-blue[_ngcontent-%COMP%]{height:100px;border-radius:10px;background-color:#737474;padding-top:20px;text-align:center}.list-md[_ngcontent-%COMP%]{padding-top:20px;border-radius:10px;box-shadow:1px 1px 1px 2px #d7d7d7}h2[_ngcontent-%COMP%]{color:#fff}ion-list[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{--border-color: gray;--border-radius: 5px;--border-width: 2px;--box-shadow: 2px gray;--highlight-height: 0;--background: #f8f9fa;padding-right:10px}ion-textarea.custom-textarea[_ngcontent-%COMP%]{--background: #373737;--color: #fff;--padding-end: 10px;--padding-start: 10px;--placeholder-color: #ddd;--placeholder-opacity: .8}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{height:90%}"]})});const M=[{path:"",component:b}];class c{}Object.defineProperty(c,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return new(i||c)}}),Object.defineProperty(c,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:c})}),Object.defineProperty(c,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[p.Bz.forChild(M),p.Bz]})});class d{}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return new(i||d)}}),Object.defineProperty(d,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:d})}),Object.defineProperty(d,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[h.ez,s.u5,o.Pc,c,y.OI]})})}}]);