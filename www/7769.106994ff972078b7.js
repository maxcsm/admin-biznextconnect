"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7769],{7769:(w,b,n)=>{n.r(b),n.d(b,{ProductPageModule:()=>a});var h=n(6895),p=n(433),t=n(5035),s=n(4126),g=n(655),e=n(8256),m=n(1053);class c{constructor(r,i,u,o,P,v,Z,y){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"route",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:P}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:v}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:y}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"price",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"products"}),Object.defineProperty(this,"file",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ngOnInit(){this.route.params.subscribe(r=>{this.id=r.id,this.getdata()})}getdata(){return(0,g.mG)(this,void 0,void 0,function*(){this.redditService.getByid(this.table,this.id).subscribe(r=>{this.posts=[r],this.title=this.posts[0].title,this.content=this.posts[0].content,this.url=this.posts[0].url,this.image=this.posts[0].image,this.price=this.posts[0].price})})}doSave(){return(0,g.mG)(this,void 0,void 0,function*(){this.redditService.update(this.table,this.id,{id:this.id,title:this.title,content:this.content,price:this.price,url:this.url,image:this.image}).toPromise().then(i=>{console.log(i),setTimeout(()=>{this.getdata(),this.router.navigateByUrl("/products")},600)})})}onFileChange(r){this.file=r.target.files[0],this.submitForm()}submitForm(){return(0,g.mG)(this,void 0,void 0,function*(){let r=new FormData;r.append("image",this.file,this.file.name),r.append("title","Image "),console.log(r),this.redditService.uploadFormData(r).toPromise().then(i=>{console.log(i),setTimeout(()=>{},500)})})}doCancel(){return(0,g.mG)(this,void 0,void 0,function*(){this.router.navigateByUrl("/products")})}}Object.defineProperty(c,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||c)(e.Y36(t.SH),e.Y36(t.Dh),e.Y36(t.Br),e.Y36(s.gz),e.Y36(t.HT),e.Y36(m.I),e.Y36(s.F0),e.Y36(t.yF))}}),Object.defineProperty(c,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:c,selectors:[["app-product"]],decls:64,vars:7,consts:[["color","secondary"],["slot","start"],["responsive-sm","",1,"ion-padding"],["sizeLg","8","sizeMd","8","sizeXs","12"],["lines","none"],["sizeLg","12","sizeMd","12","sizeXs","12"],["sizeLg","6","sizeMd","6","sizeXs","12"],[1,"roundedInput"],["position","stacked"],["inputmode","text","placeholder","Titre",3,"ngModel","ngModelChange"],["placeholder","Ajoutez une description ...",3,"autoGrow","ngModel","ngModelChange"],[2,"display","none"],["inputmode","number","placeholder","1",3,"ngModel","ngModelChange"],[2,"margin-top","20px","display","none"],["slot","icon-only","name","attach"],["type","file",3,"change"],[2,"width","200px",3,"src"],["sizeLg","4","sizeMd","4","sizeXs","12"],["inputmode","text","placeholder","",3,"ngModel","ngModelChange"],["slot","end",1,"item-note"],["color","light","size","medium",3,"click"],["color","secondary","size","medium",3,"click"],["sizeLg","4","sizeMd","4","sizeXs","12",1,"padding"]],template:function(r,i){1&r&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Produit "),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-row")(8,"ion-col",3)(9,"ion-list",4)(10,"ion-row")(11,"ion-col",5)(12,"ion-row")(13,"ion-col",6),e._uU(14),e._UZ(15,"br"),e.qZA()(),e.TgZ(16,"ion-row"),e._UZ(17,"ion-col",6),e.qZA(),e.TgZ(18,"ion-row")(19,"ion-col",5)(20,"ion-item",7)(21,"ion-label",8),e._uU(22,"Titre"),e.qZA(),e.TgZ(23,"ion-input",9),e.NdJ("ngModelChange",function(o){return i.title=o}),e.qZA()()()(),e.TgZ(24,"ion-row")(25,"ion-col",5)(26,"ion-item",7)(27,"ion-label",8),e._uU(28,"Description"),e.qZA(),e.TgZ(29,"ion-textarea",10),e.NdJ("ngModelChange",function(o){return i.content=o}),e.qZA()()()(),e.TgZ(30,"ion-row",11)(31,"ion-col",6)(32,"ion-item",7)(33,"ion-label",8),e._uU(34,"Prix"),e.qZA(),e.TgZ(35,"ion-input",12),e.NdJ("ngModelChange",function(o){return i.price=o}),e.qZA()()(),e._UZ(36,"ion-col",6),e.qZA(),e.TgZ(37,"ion-list",13)(38,"ion-row")(39,"ion-col",3)(40,"h4"),e._uU(41," Ajouter une image "),e.qZA(),e.TgZ(42,"ion-item")(43,"ion-buttons",1)(44,"ion-button"),e._UZ(45,"ion-icon",14),e.qZA()(),e.TgZ(46,"input",15),e.NdJ("change",function(o){return i.onFileChange(o)}),e.qZA()(),e._UZ(47,"img",16),e.qZA(),e._UZ(48,"ion-col",17),e.qZA(),e.TgZ(49,"ion-row")(50,"ion-col",5)(51,"ion-item",7)(52,"ion-label",8),e._uU(53,"Image "),e.qZA(),e.TgZ(54,"ion-input",18),e.NdJ("ngModelChange",function(o){return i.image=o}),e.qZA()()()()(),e.TgZ(55,"ion-row"),e._UZ(56,"ion-col",5),e.qZA(),e.TgZ(57,"ion-item")(58,"div",19)(59,"ion-button",20),e.NdJ("click",function(){return i.doCancel()}),e._uU(60,"Annuler "),e.qZA(),e.TgZ(61,"ion-button",21),e.NdJ("click",function(){return i.doSave()}),e._uU(62,"Enregistrer"),e.qZA()()()()()()(),e._UZ(63,"ion-col",22),e.qZA()()),2&r&&(e.xp6(14),e.hij(" Id: ",i.id," "),e.xp6(9),e.Q6J("ngModel",i.title),e.xp6(6),e.Q6J("autoGrow",!0)("ngModel",i.content),e.xp6(6),e.Q6J("ngModel",i.price),e.xp6(12),e.s9C("src",i.image,e.LSH),e.xp6(7),e.Q6J("ngModel",i.image))},dependencies:[p.JJ,p.On,t.oU,t.YG,t.Sm,t.wI,t.W2,t.Gu,t.gu,t.pK,t.Ie,t.Q$,t.q_,t.Nd,t.g2,t.wd,t.sr,t.j9,t.cs],styles:[".divider-blue[_ngcontent-%COMP%]{height:100px;border-radius:10px;background-color:#737474;padding-top:20px;text-align:center}.list-md[_ngcontent-%COMP%]{padding-top:20px;border-radius:10px;box-shadow:1px 1px 1px 2px #d7d7d7}h2[_ngcontent-%COMP%]{color:#fff}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{--border-color: gray;--border-radius: 5px;--border-width: 2px;--box-shadow: 2px gray;--highlight-height: 0;--background: #f8f9fa;padding-right:10px}ion-textarea.custom-textarea[_ngcontent-%COMP%]{--background: #373737;--color: #fff;--padding-end: 10px;--padding-start: 10px;--placeholder-color: #ddd;--placeholder-opacity: .8}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{height:90%}"]})});const f=[{path:"",component:c}];class l{}Object.defineProperty(l,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||l)}}),Object.defineProperty(l,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:l})}),Object.defineProperty(l,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[s.Bz.forChild(f),s.Bz]})});class a{}Object.defineProperty(a,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||a)}}),Object.defineProperty(a,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:a})}),Object.defineProperty(a,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[h.ez,p.u5,t.Pc,l]})})}}]);