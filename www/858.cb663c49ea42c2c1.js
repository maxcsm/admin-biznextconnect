"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[858],{858:(T,_,s)=>{s.r(_),s.d(_,{CustomersProPageModule:()=>g});var p=s(6895),m=s(433),i=s(5035),f=s(4126),b=s(655),e=s(8256),v=s(1053);function P(a,r){1&a&&(e.TgZ(0,"ion-badge",26),e._uU(1," Particulier "),e.qZA())}function y(a,r){1&a&&(e.TgZ(0,"ion-badge",21),e._uU(1," Professionnel "),e.qZA())}const C=function(a){return{"background-color":a}};function w(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"ion-item",15)(1,"ion-avatar",16),e._UZ(2,"img",17),e.qZA(),e.TgZ(3,"ion-label",3),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.edit(o,l))}),e.TgZ(4,"ion-text")(5,"small"),e._uU(6),e.qZA(),e.TgZ(7,"h2")(8,"b"),e._uU(9),e.qZA()()()(),e.TgZ(10,"ion-label",18),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.edit(o,l))}),e.TgZ(11,"ion-text")(12,"h2"),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-label",18),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.edit(o,l))}),e.TgZ(15,"ion-badge",19),e._UZ(16,"ion-icon",20),e._uU(17),e.qZA()(),e.TgZ(18,"ion-label",18),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.edit(o,l))}),e.TgZ(19,"ion-badge",21),e._uU(20),e.qZA()(),e.TgZ(21,"ion-label",18),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.edit(o,l))}),e.YNc(22,P,2,0,"ion-badge",22),e.YNc(23,y,2,0,"ion-badge",23),e.qZA(),e.TgZ(24,"ion-label",18),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.edit(o,l))}),e.TgZ(25,"ion-text")(26,"h2"),e._uU(27),e.ALo(28,"date"),e.qZA()()(),e.TgZ(29,"ion-button",24),e.NdJ("click",function(o){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.delete(o,l))}),e._UZ(30,"ion-icon",25),e.qZA()()}if(2&a){const t=r.$implicit;e.xp6(1),e.Q6J("ngStyle",e.VKq(14,C,t.color)),e.xp6(1),e.s9C("src",t.user_avatar,e.LSH),e.xp6(4),e.hij(" ID ",t.id,""),e.xp6(3),e.AsE(" ",t.lastname," ",t.firstname," "),e.xp6(4),e.hij("",t.email," "),e.xp6(4),e.hij(" ",t.city," "),e.xp6(3),e.hij(" ",t.customer_type," "),e.xp6(2),e.Q6J("ngIf",1==t.role),e.xp6(1),e.Q6J("ngIf",2==t.role),e.xp6(4),e.hij("",e.xi3(28,11,t.created_at,"dd/MM/yyyy H:mm")," ")}}class h{constructor(r,t,n,o,c,l,u,O,x,Z){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"formBuilder",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"menu",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:O}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:x}),Object.defineProperty(this,"loadingCtrl",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"modal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rolename",{enumerable:!0,configurable:!0,writable:!0,value:"client"}),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"users"}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"category",{enumerable:!0,configurable:!0,writable:!0,value:"2"}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"wordid",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"last_page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"per_page",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"order_id",{enumerable:!0,configurable:!0,writable:!0,value:"id"}),Object.defineProperty(this,"order_by",{enumerable:!0,configurable:!0,writable:!0,value:"desc"}),Object.defineProperty(this,"email_verified_at",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentpage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"email",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"address",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"city",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"phone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"company",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formgroup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validations_form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=1}ngOnInit(){}ionViewWillEnter(){this.getData()}getData(){return(0,b.mG)(this,void 0,void 0,function*(){const r=yield this.loadingCtrl.create({message:"Chargement..",spinner:"bubbles"});yield r.present(),this.page=1,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(t=>{r.dismiss(),this.posts=t.data,this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page})})}next(r){this.currentpage<this.last_page&&(this.page=this.page+1,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(t=>{let n=t.data;for(let o of n)this.posts.push(o);this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page})),r.target.complete()}doInfinite(r){return(0,b.mG)(this,void 0,void 0,function*(){this.next(r)})}handleChange(r){const t=r.target.value.toLowerCase();this.filter=t,this.filter=r.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},1e3)}getDataFilter(){return(0,b.mG)(this,void 0,void 0,function*(){this.page=1,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(r=>{this.posts=r.data,this.total=r.total,this.per_page=r.per_page,this.currentpage=r.current_page,this.last_page=r.last_page})})}onChangeWord(r){return(0,b.mG)(this,void 0,void 0,function*(){this.filter=r.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},1e3)})}onCancelword(r){}reset(){this.filter="",this.page=1,this.per_page=20,this.getData()}cancel(){this.modal.dismiss(null,"cancel")}onWillDismiss(r){}doSave(){var r=JSON.stringify({lastname:this.lastname,firstname:this.firstname,phone_number:this.phone,email:this.email,address:this.address,city:this.city,cp:this.cp,role:this.role,company:this.company});console.log(r),this.redditService.adduser(r).subscribe(t=>{this.modal.dismiss(),this.getData(),console.log(t),setTimeout(()=>{this.router.navigateByUrl("/customers"),this.lastname="",this.firstname="",this.phone="",this.email="",this.address="",this.city="",this.cp="",this.company=""},400)})}prev(){this.page>1&&(this.page=this.page-1,this.getData())}forward(){this.currentpage<this.last_page&&(this.page=this.last_page,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(r=>{console.log(r),this.posts=r.data,this.total=r.total,this.per_page=r.per_page,this.currentpage=r.current_page,this.last_page=r.last_page}))}backward(){this.currentpage>1&&(this.page=1,this.getData())}edit(r,t){return(0,b.mG)(this,void 0,void 0,function*(){this.router.navigateByUrl("/profil/"+t.id)})}delete(r,t){return(0,b.mG)(this,void 0,void 0,function*(){this.id=t.id,yield(yield this.alertController.create({header:"Supprimer",message:"Voulez-vous vraiment ? ",buttons:[{text:"Annuler",role:"cancel",cssClass:"secondary",handler:o=>{}},{text:"Oui",handler:()=>{this.redditService.delete(this.table,this.id).toPromise().then(o=>{console.log(o),setTimeout(()=>{this.getData()},400)})}}]})).present()})}newuser(){return(0,b.mG)(this,void 0,void 0,function*(){this.router.navigateByUrl("/register-pro")})}}Object.defineProperty(h,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||h)(e.Y36(i.SH),e.Y36(m.qu),e.Y36(i.Dh),e.Y36(i.Br),e.Y36(i._q),e.Y36(i.HT),e.Y36(v.I),e.Y36(f.F0),e.Y36(i.yF),e.Y36(i.HT))}}),Object.defineProperty(h,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:h,selectors:[["app-customers-pro"]],viewQuery:function(r,t){if(1&r&&e.Gf(i.ki,5),2&r){let n;e.iGM(n=e.CRH())&&(t.modal=n.first)}},decls:26,vars:3,consts:[["color","secondary"],["slot","start"],["slot","end"],[3,"click"],["name","add-circle"],[2,"background-color","#E4E4E4","border-radius","10px"],["size-xl","8","size-md","6","size-xs","12"],["type","text","placeholder","id, nom, pr\xe9nom, entreprise, email","debounce","200",3,"ngModel","ngModelChange","ionChange"],["size-xl","4","size-md","6","size-xs","12",2,"padding-top","12px"],["color","light",3,"click"],["name","refresh-outline"],["color","light"],["button","",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Chargement..."],["button",""],["slot","start",2,"padding","3px",3,"ngStyle"],[3,"src"],[1,"ion-hide-sm-down",3,"click"],["color","light","slot","end"],["name","location-outline"],["color","success","slot","end"],["color","danger","slot","end",4,"ngIf"],["color","success","slot","end",4,"ngIf"],["ion-button","","outline","","item-end","","small","","color","light",3,"click"],["name","trash-outline"],["color","danger","slot","end"]],template:function(r,t){1&r&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Professionnels "),e.qZA(),e.TgZ(6,"ion-buttons",2)(7,"ion-button",3),e.NdJ("click",function(){return t.newuser()}),e._UZ(8,"ion-icon",4),e._uU(9," Ajouter un utilisateur "),e.qZA()()()(),e.TgZ(10,"ion-content")(11,"ion-grid")(12,"ion-row",5)(13,"ion-col",6)(14,"ion-searchbar",7),e.NdJ("ngModelChange",function(o){return t.filter=o})("ionChange",function(o){return t.handleChange(o)}),e.qZA()(),e.TgZ(15,"ion-col",8)(16,"ion-button",9),e.NdJ("click",function(){return t.reset()}),e._UZ(17,"ion-icon",10),e.qZA(),e.TgZ(18,"ion-button",11),e._uU(19," Nombre de r\xe9sultats : "),e.TgZ(20,"b"),e._uU(21),e.qZA()()()()(),e.TgZ(22,"ion-list"),e.YNc(23,w,31,16,"ion-item",12),e.qZA(),e.TgZ(24,"ion-infinite-scroll",13),e.NdJ("ionInfinite",function(o){return t.doInfinite(o)}),e._UZ(25,"ion-infinite-scroll-content",14),e.qZA()()),2&r&&(e.xp6(14),e.Q6J("ngModel",t.filter),e.xp6(7),e.Oqu(t.total),e.xp6(2),e.Q6J("ngForOf",t.posts))},dependencies:[p.sg,p.O5,p.PC,m.JJ,m.On,i.BJ,i.yp,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.ju,i.MB,i.Ie,i.Q$,i.q_,i.fG,i.Nd,i.VI,i.yW,i.wd,i.sr,i.j9,p.uU]})});const j=[{path:"",component:h}];class d{}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||d)}}),Object.defineProperty(d,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:d})}),Object.defineProperty(d,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[f.Bz.forChild(j),f.Bz]})});class g{}Object.defineProperty(g,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||g)}}),Object.defineProperty(g,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:g})}),Object.defineProperty(g,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[p.ez,m.u5,i.Pc,d]})})}}]);