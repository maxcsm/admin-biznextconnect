"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3286],{3286:(M,m,u)=>{u.r(m),u.d(m,{GroupePageModule:()=>c});var g=u(6895),b=u(433),i=u(5035),p=u(4126),s=u(655),e=u(8256),y=u(1053),P=u(7330);const _=function(o){return{"background-color":o}};function w(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"ion-item",11)(1,"ion-avatar",12),e._UZ(2,"img",13),e.qZA(),e.TgZ(3,"ion-label",14),e.NdJ("click",function(a){const h=e.CHM(r).$implicit,f=e.oxw();return e.KtG(f.edit(a,h))}),e.TgZ(4,"ion-text")(5,"h2")(6,"b"),e._uU(7),e.qZA(),e._UZ(8,"br"),e._uU(9),e.qZA()()(),e.TgZ(10,"ion-button",15),e._uU(11),e.qZA()()}if(2&o){const r=t.$implicit;e.xp6(1),e.Q6J("ngStyle",e.VKq(7,_,r.color)),e.xp6(1),e.s9C("src",r.user_avatar,e.LSH),e.xp6(5),e.AsE(" ",r.firstname," ",r.lastname,""),e.xp6(2),e.AsE(" ",r.company," ( ",r.cp,") "),e.xp6(2),e.hij(" Groupe ",r.category," ")}}class d{constructor(t,r,n,a,v,h,f,j,C,x,G){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"formBuilder",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"menu",{enumerable:!0,configurable:!0,writable:!0,value:v}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:j}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:C}),Object.defineProperty(this,"loadingCtrl",{enumerable:!0,configurable:!0,writable:!0,value:x}),Object.defineProperty(this,"localStore",{enumerable:!0,configurable:!0,writable:!0,value:G}),Object.defineProperty(this,"modal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rolename",{enumerable:!0,configurable:!0,writable:!0,value:"client"}),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"usersGroupe"}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"wordid",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"last_page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"per_page",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"order_id",{enumerable:!0,configurable:!0,writable:!0,value:"firstname"}),Object.defineProperty(this,"order_by",{enumerable:!0,configurable:!0,writable:!0,value:"desc"}),Object.defineProperty(this,"email_verified_at",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentpage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"email",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"address",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"city",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"phone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"company",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formgroup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validations_form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"category",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"session_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=1}ngOnInit(){}ionViewWillEnter(){this.session_id=this.localStore.getItem("session_id"),this.category=this.localStore.getItem("category"),this.getData()}getData(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.loadingCtrl.create({message:"Chargement..",spinner:"bubbles"});yield t.present(),this.page=1,this.redditService.getDataBygroupBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(r=>{t.dismiss(),this.posts=r.data,console.log(this.posts),this.total=r.total,this.per_page=r.per_page,this.currentpage=r.current_page,this.last_page=r.last_page})})}next(t){this.currentpage<this.last_page&&(this.page=this.page+1,this.redditService.getDataBygroupBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(r=>{let n=r.data;for(let a of n)this.posts.push(a);this.total=r.total,this.per_page=r.per_page,this.currentpage=r.current_page,this.last_page=r.last_page})),t.target.complete()}doInfinite(t){return(0,s.mG)(this,void 0,void 0,function*(){this.next(t)})}handleChange(t){const r=t.target.value.toLowerCase();this.filter=r,this.filter=t.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},1e3)}getDataFilter(){return(0,s.mG)(this,void 0,void 0,function*(){this.page=1,this.redditService.getDataBygroupBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(t=>{this.posts=t.data,this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page})})}onChangeWord(t){return(0,s.mG)(this,void 0,void 0,function*(){this.filter=t.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},1e3)})}onCancelword(t){}reset(){this.filter="",this.page=1,this.per_page=20,this.getData()}cancel(){this.modal.dismiss(null,"cancel")}onWillDismiss(t){}doSave(){var t=JSON.stringify({lastname:this.lastname,firstname:this.firstname,phone_number:this.phone,email:this.email,address:this.address,city:this.city,cp:this.cp,role:this.role,company:this.company});console.log(t),this.redditService.adduser(t).subscribe(r=>{this.modal.dismiss(),this.getData(),console.log(r),setTimeout(()=>{this.router.navigateByUrl("/customers"),this.lastname="",this.firstname="",this.phone="",this.email="",this.address="",this.city="",this.cp="",this.company=""},400)})}prev(){this.page>1&&(this.page=this.page-1,this.getData())}forward(){this.currentpage<this.last_page&&(this.page=this.last_page,this.redditService.getDataBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.status,this.filter).subscribe(t=>{console.log(t),this.posts=t.data,this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page}))}backward(){this.currentpage>1&&(this.page=1,this.getData())}edit(t,r){return(0,s.mG)(this,void 0,void 0,function*(){this.router.navigateByUrl("/user-detail/"+r.id)})}delete(t,r){return(0,s.mG)(this,void 0,void 0,function*(){this.id=r.id,yield(yield this.alertController.create({header:"Supprimer",message:"Voulez-vous vraiment ? ",buttons:[{text:"Annuler",role:"cancel",cssClass:"secondary",handler:a=>{}},{text:"Oui",handler:()=>{this.redditService.delete(this.table,this.id).toPromise().then(a=>{console.log(a),setTimeout(()=>{this.getData()},400)})}}]})).present()})}}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||d)(e.Y36(i.SH),e.Y36(b.qu),e.Y36(i.Dh),e.Y36(i.Br),e.Y36(i._q),e.Y36(i.HT),e.Y36(y.I),e.Y36(p.F0),e.Y36(i.yF),e.Y36(i.HT),e.Y36(P.C))}}),Object.defineProperty(d,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:d,selectors:[["app-groupe"]],viewQuery:function(t,r){if(1&t&&e.Gf(i.ki,5),2&t){let n;e.iGM(n=e.CRH())&&(r.modal=n.first)}},decls:21,vars:3,consts:[["color","secondary"],["slot","end",2,"display","none"],["responsive-sm","","color","tertiary"],["sizeLg","3","sizeMd","3","sizeXs","12"],["sizeLg","6","sizeMd","6","sizeXs","12"],[2,"padding","3%","color","black"],["size-xl","12","size-md","12","size-xs","12"],["type","text","placeholder","nom, pr\xe9nom, entreprise, email","debounce","200",3,"ngModel","ngModelChange","ionChange"],["button","",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Chargement..."],["button",""],["slot","start",2,"padding","3px",3,"ngStyle"],[3,"src"],[3,"click"],["slot","end"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e._uU(3," Mon groupe de passage "),e.qZA(),e._UZ(4,"ion-buttons",1),e.qZA()(),e.TgZ(5,"ion-content",2)(6,"ion-row"),e._UZ(7,"ion-col",3),e.TgZ(8,"ion-col",4)(9,"ion-grid")(10,"ion-list")(11,"p",5),e._uU(12),e._UZ(13,"br"),e._uU(14," Les Groupes de Passage sont d\xe9termin\xe9s selon votre zone g\xe9ographique. Les groupes vont de salles en salles, dans le sens de circulation des salles (sens des aiguilles d'une montre). "),e.qZA(),e.TgZ(15,"ion-col",6)(16,"ion-searchbar",7),e.NdJ("ngModelChange",function(a){return r.filter=a})("ionChange",function(a){return r.handleChange(a)}),e.qZA()(),e.YNc(17,w,12,9,"ion-item",8),e.qZA(),e.TgZ(18,"ion-infinite-scroll",9),e.NdJ("ionInfinite",function(a){return r.doInfinite(a)}),e._UZ(19,"ion-infinite-scroll-content",10),e.qZA()()(),e._UZ(20,"ion-col",3),e.qZA()()),2&t&&(e.xp6(12),e.hij(" Mon Groupe de Passage sur les Ateliers: ",r.category," "),e.xp6(4),e.Q6J("ngModel",r.filter),e.xp6(1),e.Q6J("ngForOf",r.posts))},dependencies:[g.sg,g.PC,b.JJ,b.On,i.BJ,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.ju,i.MB,i.Ie,i.Q$,i.q_,i.Nd,i.VI,i.yW,i.wd,i.sr,i.j9],styles:[".divider-blue[_ngcontent-%COMP%]{height:100px;border-radius:10px;background-color:#00bcd4;padding-top:20px;text-align:center}.list-md[_ngcontent-%COMP%]{padding-top:20px;border-radius:10px;box-shadow:1px 1px 1px 2px #d7d7d7}.selectitem[_ngcontent-%COMP%]{--border-top-width: 2px;--border-end-width: 3px;--border-bottom-width: 2px;--border-start-width: 6px;--inner-border-width: 0;--border-width: var(--border-top-width) var(--border-end-width) var(--border-bottom-width) var(--border-start-width);--border-color: rgb(63, 187, 59)}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:10px}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{--border-color: gray;--border-radius: 5px;--border-width: 2px;--box-shadow: 2px gray;--highlight-height: 0;--background: #f8f9fa;padding-right:10px}ion-button[_ngcontent-%COMP%]{text-transform:capitalize}.img-box[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;overflow:hidden;text-align:center;padding:5px}"]})});const O=[{path:"",component:d}];class l{}Object.defineProperty(l,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||l)}}),Object.defineProperty(l,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:l})}),Object.defineProperty(l,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[p.Bz.forChild(O),p.Bz]})});class c{}Object.defineProperty(c,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||c)}}),Object.defineProperty(c,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:c})}),Object.defineProperty(c,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[g.ez,b.u5,i.Pc,l]})})}}]);