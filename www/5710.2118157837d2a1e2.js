"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5710],{5710:(S,v,n)=>{n.r(v),n.d(v,{UsersColocPageModule:()=>d});var g=n(6895),f=n(433),o=n(5035),h=n(4126),b=n(655),e=n(8256),y=n(1053),_=n(7330);function P(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"ion-button",12),e.NdJ("click",function(u){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.doSaveColococataire(u,l))}),e._UZ(1,"ion-icon",13),e._uU(2," Ajouter comme colocataire "),e.qZA()}}const j=function(a){return{"background-color":a}};function w(a,r){if(1&a&&(e.TgZ(0,"ion-item")(1,"ion-avatar",9),e._UZ(2,"img",10),e.qZA(),e.TgZ(3,"ion-label")(4,"ion-text")(5,"h2")(6,"b"),e._uU(7),e.qZA(),e._UZ(8,"br"),e._uU(9),e._UZ(10,"br"),e._uU(11),e.qZA(),e.YNc(12,P,3,0,"ion-button",11),e.qZA()(),e.TgZ(13,"ion-button",1),e._uU(14),e.qZA()()),2&a){const t=r.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngStyle",e.VKq(9,j,t.color)),e.xp6(1),e.s9C("src",t.user_avatar,e.LSH),e.xp6(5),e.AsE("",t.firstname," ",t.lastname,""),e.xp6(2),e.hij(" ",t.customer_type,""),e.xp6(2),e.AsE(" ",t.company,", ",t.centre_regionale,""),e.xp6(1),e.Q6J("ngIf",t.id!==i.iduser),e.xp6(2),e.hij(" Groupe ",t.category," ")}}function O(a,r){if(1&a&&(e.TgZ(0,"ion-item-group")(1,"ion-item-divider",8)(2,"ion-label"),e._uU(3),e.qZA()(),e.YNc(4,w,15,11,"ion-item",5),e.qZA()),2&a){const t=r.$implicit;e.xp6(3),e.hij(" ",t.alphabet," "),e.xp6(1),e.Q6J("ngForOf",t.record)}}class p{constructor(r,t,i,u,l,s,m,U,Z,T,x,A){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"formBuilder",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"menu",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:m}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:U}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"loadingCtrl",{enumerable:!0,configurable:!0,writable:!0,value:T}),Object.defineProperty(this,"localStore",{enumerable:!0,configurable:!0,writable:!0,value:x}),Object.defineProperty(this,"modalController",{enumerable:!0,configurable:!0,writable:!0,value:A}),Object.defineProperty(this,"modal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rolename",{enumerable:!0,configurable:!0,writable:!0,value:"client"}),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"usersAlpha"}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"wordid",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"last_page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"per_page",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"order_id",{enumerable:!0,configurable:!0,writable:!0,value:"id"}),Object.defineProperty(this,"order_by",{enumerable:!0,configurable:!0,writable:!0,value:"desc"}),Object.defineProperty(this,"email_verified_at",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentpage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"email",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"address",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"city",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"phone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastname",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"company",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formgroup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validations_form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"category",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"session_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"employees",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputalphabet",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"iduser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=1}ionViewWillEnter(){this.session_id=this.localStore.getItem("session_id"),this.iduser=this.localStore.getItem("iduser"),this.getData()}ngOnInit(){}getData(){return(0,b.mG)(this,void 0,void 0,function*(){const r=yield this.loadingCtrl.create({message:"Chargement..",spinner:"bubbles"});yield r.present(),this.page=1,this.redditService.getDataBygroupBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(t=>{r.dismiss(),this.outputalphabet=t.allletter.reduce((i,u)=>{const l=i.findIndex(s=>s.alphabet===u.firstname[0]);return-1===l?i.push({alphabet:u.firstname[0],record:[u],0:void 0}):(i[l].record.push(u),i[l].record.sort((s,m)=>s.name>m.name?1:-1)),i},[]).sort((i,u)=>i.alphabet>u.alphabet?1:-1),console.log(this.outputalphabet)})})}next(r){this.currentpage<this.last_page&&(this.page=this.page+1,this.redditService.getDataBygroupBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(t=>{let i=t.data;for(let u of i)this.posts.push(u);this.total=t.total,this.per_page=t.per_page,this.currentpage=t.current_page,this.last_page=t.last_page})),r.target.complete()}doInfinite(r){return(0,b.mG)(this,void 0,void 0,function*(){this.next(r)})}handleChange(r){const t=r.target.value.toLowerCase();this.filter=t,this.filter=r.target.value,this.page=1,this.getDataFilter()}getDataFilter(){return(0,b.mG)(this,void 0,void 0,function*(){this.redditService.getDataBygroupBypage(this.page,this.table,this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(r=>{console.log(r),this.outputalphabet=r.allletter.reduce((t,i)=>{const u=t.findIndex(l=>l.alphabet===i.firstname[0]);return-1===u?t.push({alphabet:i.firstname[0],record:[i],0:void 0}):(t[u].record.push(i),t[u].record.sort((l,s)=>l.name>s.name?1:-1)),t},[]).sort((t,i)=>t.alphabet>i.alphabet?1:-1),console.log(this.outputalphabet)})})}onChangeWord(r){return(0,b.mG)(this,void 0,void 0,function*(){this.filter=r.target.value,this.page=1,setTimeout(()=>{this.getDataFilter()},500)})}onCancelword(r){}reset(){this.filter="",this.page=1,this.per_page=20,this.getData()}closeModal(){return(0,b.mG)(this,void 0,void 0,function*(){yield this.modalController.dismiss(void 0,"close")})}view(r,t){return(0,b.mG)(this,void 0,void 0,function*(){setTimeout(()=>{this.modalController.dismiss(),this.router.navigateByUrl("/messagenew/"+t.id+"/"+t.firstname+"/"+t.lastname)},1e3)})}doSaveColococataire(r,t){return(0,b.mG)(this,void 0,void 0,function*(){const i={idcoloc:t.id};console.log(i);const u=[{postData:i}];yield this.modalController.dismiss(u)})}}Object.defineProperty(p,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||p)(e.Y36(o.SH),e.Y36(f.qu),e.Y36(o.Dh),e.Y36(o.Br),e.Y36(o._q),e.Y36(o.HT),e.Y36(y.I),e.Y36(h.F0),e.Y36(o.yF),e.Y36(o.HT),e.Y36(_.C),e.Y36(o.IN))}}),Object.defineProperty(p,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:p,selectors:[["app-users-coloc"]],viewQuery:function(r,t){if(1&r&&e.Gf(o.ki,5),2&r){let i;e.iGM(i=e.CRH())&&(t.modal=i.first)}},decls:14,vars:2,consts:[[2,"background-color","#E4E4E4"],["slot","end"],["color","primary",3,"click"],["name","close-circle"],["type","text","placeholder","pr\xe9nom, nom, entreprise","debounce","200",3,"ngModel","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Chargement..."],["color","tertiary"],["slot","start",2,"padding","3px",3,"ngStyle"],[3,"src"],["type","submit","color","primary","size","small",3,"click",4,"ngIf"],["type","submit","color","primary","size","small",3,"click"],["name","add-circle"]],template:function(r,t){1&r&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Chercher mon colocataire "),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-button",2),e.NdJ("click",function(){return t.closeModal()}),e._UZ(6,"ion-icon",3),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"ion-row",0)(9,"ion-searchbar",4),e.NdJ("ngModelChange",function(u){return t.filter=u})("ionChange",function(u){return t.handleChange(u)}),e.qZA()(),e.TgZ(10,"ion-list"),e.YNc(11,O,5,2,"ion-item-group",5),e.qZA(),e.TgZ(12,"ion-infinite-scroll",6),e.NdJ("ionInfinite",function(u){return t.doInfinite(u)}),e._UZ(13,"ion-infinite-scroll-content",7),e.qZA()()),2&r&&(e.xp6(9),e.Q6J("ngModel",t.filter),e.xp6(2),e.Q6J("ngForOf",t.outputalphabet))},dependencies:[g.sg,g.O5,g.PC,f.JJ,f.On,o.BJ,o.YG,o.Sm,o.W2,o.Gu,o.gu,o.ju,o.MB,o.Ie,o.rH,o.Ub,o.Q$,o.q_,o.Nd,o.VI,o.yW,o.wd,o.sr,o.j9],styles:["ion-button[_ngcontent-%COMP%]{text-transform:capitalize}"]})});const C=[{path:"",component:p}];class c{}Object.defineProperty(c,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||c)}}),Object.defineProperty(c,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:c})}),Object.defineProperty(c,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[h.Bz.forChild(C),h.Bz]})});class d{}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return new(r||d)}}),Object.defineProperty(d,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:d})}),Object.defineProperty(d,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[g.ez,f.u5,o.Pc,c]})})}}]);