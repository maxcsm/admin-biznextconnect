"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9822],{9822:(O,p,o)=>{o.r(p),o.d(p,{ServicePageModule:()=>c});var m=o(6895),s=o(433),r=o(5035),g=o(4126),a=o(655),e=o(8256),v=o(1053),f=o(8375);function y(u,t){if(1&u){const i=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col",9)(2,"ion-item",10)(3,"ion-label",11),e._uU(4,"Seo"),e.qZA(),e.TgZ(5,"ion-input",25),e.NdJ("ngModelChange",function(n){e.CHM(i);const h=e.oxw();return e.KtG(h.url=n)}),e.qZA()()()()}if(2&u){const i=e.oxw();e.xp6(5),e.Q6J("ngModel",i.url)}}class b{constructor(t,i,l,n,h,w,M,Z){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"route",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:h}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:w}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:M}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:Z}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"price",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"posts"}),Object.defineProperty(this,"file",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"gallery",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"idgallery",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"editurl",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{placeholder:"Votre description ici...",tabsize:2,height:200,uploadImagePath:"/api/upload",dialogsInBody:!0,toolbar:[["misc",["codeview","undo","redo"]],["style",["bold","italic","underline","clear"]],["font",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["fontsize",["fontname","fontsize","color"]],["para",["style","ul","ol","paragraph","height"]],["insert",["link","picture"]]],fontNames:["Helvetica","Arial","Arial Black","Comic Sans MS","Courier New","Times"]}}),Object.defineProperty(this,"editorValue",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"UrlBase",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"UrlImage",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"subtitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.getdata(),this.galleryByPost(),this.UrlImage=this.redditService.getUrlImage()})}getdata(){return(0,a.mG)(this,void 0,void 0,function*(){this.redditService.getByid(this.table,this.id).subscribe(t=>{this.posts=[t],this.title=this.posts[0].title,this.subtitle=this.posts[0].subtitle,this.content=this.posts[0].content,this.url=this.posts[0].url,this.image=this.posts[0].image,this.price=this.posts[0].price,this.view=this.posts[0].view})})}galleryByPost(){return(0,a.mG)(this,void 0,void 0,function*(){this.redditService.getByid("gallerybypost",this.id).subscribe(t=>{this.gallery=t.data})})}doSave(){return(0,a.mG)(this,void 0,void 0,function*(){this.url=encodeURI(this.title);var t={id:this.id,title:this.title,content:this.content,price:this.price,url:this.url,image:this.image,view:this.view};console.log(t),this.redditService.update(this.table,this.id,t).toPromise().then(i=>{setTimeout(()=>{this.getdata(),this.router.navigateByUrl("/services")},600)})})}editurlseo(){return(0,a.mG)(this,void 0,void 0,function*(){this.editurl=!this.editurl})}onFileChange(t){this.file=t.target.files[0],console.log(this.file),this.submitForm()}submitForm(){return(0,a.mG)(this,void 0,void 0,function*(){let t=new FormData;t.append("image",this.file,this.file.name),t.append("title","Image "),console.log(t),this.redditService.uploadFormData(t).toPromise().then(i=>{this.image=i,setTimeout(()=>{},500)})})}onFileChangeGallery(t){this.file=t.target.files[0],console.log(this.file),this.submitFormGallery()}submitFormGallery(){return(0,a.mG)(this,void 0,void 0,function*(){let t=new FormData;t.append("image",this.file,this.file.name),t.append("title","Image "),t.append("postid",this.id),this.redditService.uploadGalleryImage(t).toPromise().then(i=>{this.galleryByPost(),setTimeout(()=>{},500)})})}delete(t,i){return(0,a.mG)(this,void 0,void 0,function*(){this.idgallery=i.id,yield(yield this.alertController.create({header:"Supprimer",message:"Voulez-vous vraiment ? ",buttons:[{text:"Annuler",role:"cancel",cssClass:"secondary",handler:n=>{}},{text:"Oui",handler:()=>{this.redditService.delete("gallery",this.idgallery).toPromise().then(n=>{setTimeout(()=>{this.galleryByPost()},400)})}}]})).present()})}}Object.defineProperty(b,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||b)(e.Y36(r.SH),e.Y36(r.Dh),e.Y36(r.Br),e.Y36(g.gz),e.Y36(r.HT),e.Y36(v.I),e.Y36(g.F0),e.Y36(r.yF))}}),Object.defineProperty(b,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:b,selectors:[["app-service"]],decls:66,vars:10,consts:[["color","secondary"],["slot","start"],["responsive-sm","",1,"ion-padding"],["sizeLg","8","sizeMd","8","sizeXs","12"],["lines","none"],["sizeLg","6","sizeMd","6","sizeXs","12"],[3,"ngModel","ngModelChange"],["value","0"],["value","1"],["sizeLg","12","sizeMd","12","sizeXs","12"],[1,"roundedInput"],["position","stacked"],["inputmode","text","placeholder","Titre",3,"ngModel","ngModelChange"],[4,"ngIf"],["inputmode","text","placeholder","Sous titre",3,"ngModel","ngModelChange"],[3,"ngxSummernote","ngModel","ngModelChange"],["slot","icon-only","name","attach"],["type","file",3,"change"],[2,"width","200px",3,"src"],["sizeLg","4","sizeMd","4","sizeXs","12"],["inputmode","text","placeholder","",3,"ngModel","ngModelChange"],["slot","end",1,"item-note"],["color","light","size","medium","routerLink","/services"],["color","secondary","size","medium",3,"click"],["sizeLg","4","sizeMd","4","sizeXs","12",1,"padding"],["inputmode","text","placeholder","Url seo",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Service "),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-row")(8,"ion-col",3)(9,"ion-list",4)(10,"ion-row")(11,"ion-col",5),e._uU(12),e._UZ(13,"br"),e.qZA()(),e.TgZ(14,"ion-row")(15,"ion-col",5)(16,"select",6),e.NdJ("ngModelChange",function(n){return i.view=n}),e.TgZ(17,"option",7),e._uU(18," Brouillon "),e.qZA(),e.TgZ(19,"option",8),e._uU(20," Publi\xe9 "),e.qZA()()(),e._UZ(21,"ion-col",5),e.qZA(),e.TgZ(22,"ion-row")(23,"ion-col",9)(24,"ion-item",10)(25,"ion-label",11),e._uU(26,"Titre"),e.qZA(),e.TgZ(27,"ion-input",12),e.NdJ("ngModelChange",function(n){return i.title=n}),e.qZA()()()(),e.YNc(28,y,6,1,"ion-row",13),e.TgZ(29,"ion-row")(30,"ion-col",9)(31,"ion-item",10)(32,"ion-label",11),e._uU(33,"Sous titre"),e.qZA(),e.TgZ(34,"ion-input",14),e.NdJ("ngModelChange",function(n){return i.subtitle=n}),e.qZA()()()(),e.TgZ(35,"ion-row")(36,"ion-col",9)(37,"ion-label",11)(38,"b"),e._uU(39,"Contenu"),e.qZA()(),e.TgZ(40,"ion-item",10)(41,"div",15),e.NdJ("ngModelChange",function(n){return i.content=n}),e.qZA()()()(),e.TgZ(42,"ion-row")(43,"ion-col",3)(44,"h4"),e._uU(45," Ajouter une image "),e.qZA(),e.TgZ(46,"ion-item")(47,"ion-buttons",1)(48,"ion-button"),e._UZ(49,"ion-icon",16),e.qZA()(),e.TgZ(50,"input",17),e.NdJ("change",function(n){return i.onFileChange(n)}),e.qZA()(),e._UZ(51,"img",18),e.qZA(),e._UZ(52,"ion-col",19),e.qZA(),e.TgZ(53,"ion-row")(54,"ion-col",9)(55,"ion-item",10)(56,"ion-label",11),e._uU(57,"Image "),e.qZA(),e.TgZ(58,"ion-input",20),e.NdJ("ngModelChange",function(n){return i.image=n}),e.qZA()()()(),e.TgZ(59,"ion-item")(60,"div",21)(61,"ion-button",22),e._uU(62,"Annuler "),e.qZA(),e.TgZ(63,"ion-button",23),e.NdJ("click",function(){return i.doSave()}),e._uU(64,"Enregistrer"),e.qZA()()()()(),e._UZ(65,"ion-col",24),e.qZA()()),2&t&&(e.xp6(12),e.hij(" Id: ",i.id," "),e.xp6(4),e.Q6J("ngModel",i.view),e.xp6(11),e.Q6J("ngModel",i.title),e.xp6(1),e.Q6J("ngIf",1==i.editurl),e.xp6(6),e.Q6J("ngModel",i.subtitle),e.xp6(7),e.Q6J("ngxSummernote",i.config)("ngModel",i.content),e.xp6(10),e.hYB("src","",i.UrlImage,"images/",i.image,"",e.LSH),e.xp6(7),e.Q6J("ngModel",i.image))},dependencies:[m.O5,s.YN,s.Kr,s.EJ,s.JJ,s.On,r.oU,r.YG,r.Sm,r.wI,r.W2,r.Gu,r.gu,r.pK,r.Ie,r.Q$,r.q_,r.Nd,r.wd,r.sr,r.j9,r.cs,r.YI,g.rH,f.J$],styles:[".divider-blue[_ngcontent-%COMP%]{height:100px;border-radius:10px;background-color:#737474;padding-top:20px;text-align:center}.list-md[_ngcontent-%COMP%]{padding-top:20px;border-radius:10px;box-shadow:1px 1px 1px 2px #d7d7d7}h2[_ngcontent-%COMP%]{color:#fff}ion-list[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{--border-color: gray;--border-radius: 5px;--border-width: 2px;--box-shadow: 2px gray;--highlight-height: 0;--background: #f8f9fa;padding-right:10px}ion-textarea.custom-textarea[_ngcontent-%COMP%]{--background: #373737;--color: #fff;--padding-end: 10px;--padding-start: 10px;--placeholder-color: #ddd;--placeholder-opacity: .8}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{height:90%}"]})});const P=[{path:"",component:b}];class d{}Object.defineProperty(d,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||d)}}),Object.defineProperty(d,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:d})}),Object.defineProperty(d,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[g.Bz.forChild(P),g.Bz]})});class c{}Object.defineProperty(c,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||c)}}),Object.defineProperty(c,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:c})}),Object.defineProperty(c,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[m.ez,s.u5,r.Pc,d,f.OI]})})}}]);