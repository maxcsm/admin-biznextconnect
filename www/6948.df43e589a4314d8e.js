"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6948],{6948:(D,v,n)=>{n.r(v),n.d(v,{Form1PageModule:()=>b});var g=n(6895),h=n(433),i=n(5035),c=n(4126),d=n(655),p=n(3051),e=n(8256),y=n(1053),P=n(1481),w=n(7330);const O=["sPad"];function j(u,t){if(1&u&&(e.TgZ(0,"ion-item",12)(1,"ion-label")(2,"b"),e._uU(3," Client "),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"b"),e._uU(6),e.qZA(),e._UZ(7,"br"),e._uU(8," entreprise: "),e.TgZ(9,"b"),e._uU(10),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"b"),e._uU(13),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"b"),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"b"),e._uU(19),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"b"),e._uU(22),e.qZA(),e._UZ(23,"br"),e.qZA()()),2&u){const r=t.$implicit;e.xp6(6),e.hij(" id: ",r.id,""),e.xp6(4),e.hij(" ",r.company,""),e.xp6(3),e.lnq(" ",r.salutation," ",r.firstname," ",r.lastname,""),e.xp6(3),e.hij(" ",r.address," "),e.xp6(3),e.AsE(" ",r.cp," ",r.city,""),e.xp6(3),e.AsE(" ",r.state," ",r.country,"")}}function Z(u,t){1&u&&(e.TgZ(0,"ion-button",14),e._uU(1," Entreprise "),e.qZA())}function _(u,t){1&u&&(e.TgZ(0,"ion-button",14),e._uU(1," Particulier "),e.qZA())}function x(u,t){if(1&u&&(e.TgZ(0,"ion-item",12),e.YNc(1,Z,2,0,"ion-button",13),e.YNc(2,_,2,0,"ion-button",13),e.qZA()),2&u){const r=t.$implicit;e.xp6(1),e.Q6J("ngIf","business"==r.customer_type),e.xp6(1),e.Q6J("ngIf","individual"==r.customer_type)}}class s{constructor(t,r,a,o,f,m,T,M,U,A,F,Y,z){Object.defineProperty(this,"navCtrl",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"popoverCtrl",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"alertController",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"route",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"loadingController",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"redditService",{enumerable:!0,configurable:!0,writable:!0,value:m}),Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:T}),Object.defineProperty(this,"toastCtrl",{enumerable:!0,configurable:!0,writable:!0,value:M}),Object.defineProperty(this,"_sanitizer",{enumerable:!0,configurable:!0,writable:!0,value:U}),Object.defineProperty(this,"elementRef",{enumerable:!0,configurable:!0,writable:!0,value:A}),Object.defineProperty(this,"LoadingController",{enumerable:!0,configurable:!0,writable:!0,value:F}),Object.defineProperty(this,"modalController",{enumerable:!0,configurable:!0,writable:!0,value:Y}),Object.defineProperty(this,"localStore",{enumerable:!0,configurable:!0,writable:!0,value:z}),Object.defineProperty(this,"modal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"editorValue",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:"projects"}),Object.defineProperty(this,"table2",{enumerable:!0,configurable:!0,writable:!0,value:"saveformpdf1"}),Object.defineProperty(this,"table3",{enumerable:!0,configurable:!0,writable:!0,value:"users"}),Object.defineProperty(this,"category",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"push",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"posts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"viewdata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"transfer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datareponse",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"isCollapsed1",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userslists",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"historiques",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc2",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc4",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc5",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc1view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc2view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc3view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc4view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bloc5view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blocedit",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"blocedit2",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bloc1edit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bloc2edit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bloc3edit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bloc4edit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bloc5edit",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bloceditsign",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"addblochistorique",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"addblocusers",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"signaturePadElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signaturePad",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signaturePad2",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signBase64",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"imgsign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"imgsign2",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"idsignature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstnamesignature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastnamesignature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"idclient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataReturned",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"iduser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tech",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"last_page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"per_page",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"order_id",{enumerable:!0,configurable:!0,writable:!0,value:"id"}),Object.defineProperty(this,"order_by",{enumerable:!0,configurable:!0,writable:!0,value:"asc"}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"session_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"postsprogramme",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ngOnInit(){this.iduser=this.localStore.getItem("iduser"),this.route.params.subscribe(t=>{this.idclient=t.id,this.getDataSession()})}ngAfterViewInit(){}getDataSession(){return(0,d.mG)(this,void 0,void 0,function*(){this.redditService.getByid("users",this.iduser).subscribe(t=>{console.log(t),this.session_id=t[0].session_id,this.category=t[0].category,this.getData()})})}getData(){return(0,d.mG)(this,void 0,void 0,function*(){this.page=1,this.redditService.getDataBygroupBypage(this.page,"GetAppointementByCategory",this.per_page,this.order_id,this.order_by,this.category,this.session_id,this.status,this.filter).subscribe(t=>{console.log(t);let r=t.appointements.reduce((a,o)=>{let f=a.find(m=>m.date===(0,p.Z)(new Date(o.start_at),"dd-MM-yyyy"));return f?f.events.push(o):a.push({date:(0,p.Z)(new Date(o.start_at),"dd-MM-yyyy"),name:this.getDayName(new Date(o.start_at)),month:this.getMonthName(new Date(o.start_at)),year:this.getYearName(new Date(o.start_at)),day:(0,p.Z)(new Date(o.start_at),"dd"),events:[o]}),a},[]);this.postsprogramme=r})})}getDayName(t){return t.toLocaleDateString(void 0,{weekday:"long"})}getMonthName(t){return t.toLocaleDateString(void 0,{month:"long"})}getYearName(t){return t.toLocaleDateString(void 0,{year:"numeric"})}savePdf(){return(0,d.mG)(this,void 0,void 0,function*(){const t=yield this.LoadingController.create({message:"enregistrement"});t.present();var r={userid:this.iduser,clientid:this.idclient,bloc1:this.postsprogramme[0]};console.log(r),this.redditService.addPost(this.table2,r).subscribe(a=>{console.log(a),setTimeout(()=>{this.url=a,t.dismiss(),this.presentToast()},1e3)},a=>{console.log(a)})})}presentToast(){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Vos donn\xe9es sont enregistr\xe9es.",duration:2e3})).present()})}}Object.defineProperty(s,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||s)(e.Y36(i.SH),e.Y36(i.Dh),e.Y36(i.Br),e.Y36(c.gz),e.Y36(i.HT),e.Y36(y.I),e.Y36(c.F0),e.Y36(i.yF),e.Y36(P.H7),e.Y36(e.SBq),e.Y36(i.HT),e.Y36(i.IN),e.Y36(w.C))}}),Object.defineProperty(s,"\u0275cmp",{enumerable:!0,configurable:!0,writable:!0,value:e.Xpm({type:s,selectors:[["app-form1"]],viewQuery:function(t,r){if(1&t&&(e.Gf(i.ki,5),e.Gf(O,7)),2&t){let a;e.iGM(a=e.CRH())&&(r.modal=a.first),e.iGM(a=e.CRH())&&(r.signaturePadElement=a.first)}},decls:24,vars:3,consts:[["slot","start"],[1,"ion-padding"],["sizeLg","8","sizeMd","8","sizeXs","12"],["lines","none",2,"margin-top","20px"],["sizeLg","9","sizeMd","9","sizeXs","12"],["lines","none",4,"ngFor","ngForOf"],["sizeLg","3","sizeMd","3","sizeXs","12"],["size","full","expand","full","shape","round","color","danger",3,"click"],["src","../assets/icon/pdf.png"],["ion-button","","item-end","","color","danger","target","_blank",3,"href"],["ios","download-outline","md","download-outline"],["sizeLg","4","sizeMd","4","sizeXs","12"],["lines","none"],["color","medium","slot","end","size","small","shape","round",4,"ngIf"],["color","medium","slot","end","size","small","shape","round"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Creation nouveau contrat "),e.qZA()()(),e.TgZ(6,"ion-content",1)(7,"ion-grid")(8,"ion-row")(9,"ion-col",2)(10,"ion-list",3)(11,"ion-row")(12,"ion-col",4),e.YNc(13,j,24,10,"ion-item",5),e.qZA(),e.TgZ(14,"ion-col",6),e.YNc(15,x,3,2,"ion-item",5),e.qZA()()(),e.TgZ(16,"ion-button",7),e.NdJ("click",function(){return r.savePdf()}),e._uU(17," Enregistrement PDF"),e._UZ(18,"img",8),e.qZA(),e.TgZ(19,"ion-button",9),e._UZ(20,"img",8)(21,"ion-icon",10),e._uU(22," T\xe9l\xe9charger "),e.qZA()(),e._UZ(23,"ion-col",11),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",r.client),e.xp6(2),e.Q6J("ngForOf",r.client),e.xp6(4),e.MGl("href","http://127.0.0.1:8000/pdf/",r.url,""))},dependencies:[g.sg,g.O5,i.oU,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.Nd,i.wd,i.sr,i.cs],styles:["canvas[_ngcontent-%COMP%]{display:block;border:1px solid rgb(47,47,47);background-color:#fff}.divider-blue[_ngcontent-%COMP%]{height:100px;border-radius:10px;background-color:#00bcd4;padding-top:20px;text-align:center}.list-md[_ngcontent-%COMP%]{padding-top:20px;border-radius:10px 10px 0/10px 10px 0px;box-shadow:1px 1px 1px 2px #d7d7d7}h2[_ngcontent-%COMP%]{color:#fff}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .roundedInput[_ngcontent-%COMP%]{--border-color: gray;--border-radius: 5px;--border-width: 2px;--box-shadow: 2px gray;--highlight-height: 0;--background: #f8f9fa;padding-right:10px}ion-textarea.custom-textarea[_ngcontent-%COMP%]{--background: #373737;--color: #fff;--padding-end: 10px;--padding-start: 10px;--placeholder-color: #ddd;--placeholder-opacity: .8}"]})});const C=[{path:"",component:s}];class l{}Object.defineProperty(l,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||l)}}),Object.defineProperty(l,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:l})}),Object.defineProperty(l,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[c.Bz.forChild(C),c.Bz]})});class b{}Object.defineProperty(b,"\u0275fac",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return new(t||b)}}),Object.defineProperty(b,"\u0275mod",{enumerable:!0,configurable:!0,writable:!0,value:e.oAB({type:b})}),Object.defineProperty(b,"\u0275inj",{enumerable:!0,configurable:!0,writable:!0,value:e.cJS({imports:[g.ez,h.u5,i.Pc,l]})})}}]);